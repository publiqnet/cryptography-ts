<ng-container *ngIf="transaction; else loading">
    <div class="container-fluid main-grid mb-5">
        <div class="mt-3 transaction-table">
            <h2 class="mb-5">
                Transaction
                <span>{{transaction.transactionHash}}</span>
            </h2>

            <div class="inner-table mb-5">
                <table *ngIf="transaction">
                    <thead>
                    <tr>
                        <th>Main</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr *ngFor="let item of transaction | keyvalue">

                        <td *ngIf="!['transfer', 'block'].includes(item.key) && item.value">
                            <span>{{item.key}} </span>
                            <span class="value">{{item.value}}</span>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>

            <div class="inner-table mb-5">
                <table *ngIf="transaction.block">
                    <thead>
                    <tr>
                        <th>Block</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr *ngFor="let block of transaction.block | keyvalue">
                        <td>
                            <span>{{block.key}} </span>
                            <span class="value">
                                <ng-container *ngIf="block.key === 'hash'">
                                  <a class="linked" [routerLink]="['/b', block.value]">{{block.value}}</a>
                                </ng-container>
                                <ng-container *ngIf="!(block.key === 'hash')">
                                    {{block.value}}
                                </ng-container>
                            </span>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>

            <div class="inner-table mb-5">
                <table *ngIf="transaction.transfer">
                    <thead>
                    <tr>
                        <th>Transfer</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr *ngFor="let transfer of transaction.transfer | keyvalue">
                        <td>
                            <span>{{transfer.key}} </span>
                            <span class="value" *ngIf="['to', 'from'].includes(transfer.key)">
                                <a class="linked" [routerLink]="['/a', transfer.value.address]">{{transfer.value.address}}</a>
                            </span>
                            <span class="value" *ngIf="!(['to', 'from'].includes(transfer.key))">
                                {{transfer.value}}
                            </span>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</ng-container>

<ng-template #loading>
    <div class="row justify-content-center align-items-center spinner no-gutters">
        <mat-spinner></mat-spinner>
    </div>
</ng-template>
