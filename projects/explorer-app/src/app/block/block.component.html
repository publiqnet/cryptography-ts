<ng-container *ngIf="blockData">
  <div class="container-fluid main-grid mb-5">
    <div class="mt-3">
      <div class="row mb-5">
        <div class="col-md-6">
          <table class="summary-table mb-4">
            <thead>
            <tr class="text-capitalize">
              <th>Block #{{ blockData.number }}</th>
              <th></th>
            </tr>
            </thead>
            <tbody>
            <tr>
              <td>
                <span>Block hash</span>
                <div class="miner-key">{{ blockData.hash }}</div>
              </td>
              <td></td>
            </tr>
            <tr>
              <td>
                <span>Previous block hash</span>
                <a class="linked" href="#" (click)="redirect($event, 'b', blockData.previousBlockHash)">{{blockData.previousBlockHash}}</a>
              </td>
            </tr>
            <tr>
              <td>
                <span>Miner</span>
                <a class="linked" href="#" (click)="redirect($event, 'a', blockData.account.address)">{{blockData.account.address}}</a>
              </td>
            </tr>
            <tr>
              <td>
                <span>Timestamp</span>
                {{ blockData.signTime | date: 'dd-MM-yyyy HH:mm' }}
              </td>
              <td>
                <span>Transactions</span>
                {{blockData.transactionsCount ? blockData.transactionsCount : 0}}
              </td>
            </tr>
            <tr>
              <td>
                <span>Total amount</span>
                {{blockData.transfer.whole + "." + blockData.transfer.fraction}}
              </td>
            </tr>
            <tr>
              <td>
                <span>Block reward</span>
                {{blockData.revordTotalAmount ? blockData.revordTotalAmount : 0}}
              </td>
            </tr>
            <tr>
              <td>
                <span>Transaction fees</span>
                {{getBlockFee(blockData)}}
              </td>
              <td>
                <span>Size</span>
                {{blockData.size | number : '1.2-2'}} KB
              </td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <h2 class="mb-5"><span>Blocks transactions</span></h2>

    <div *ngIf="transactions.length" class="hidden-table">
      <table class=" mb-4">
        <thead>
        <tr class="text-capitalize">
          <th class="text-center">Fee Fraction</th>
          <th class="text-center">Fee Whole</th>
          <th class="text-center">Transaction Hash</th>
          <th class="text-center">Transaction Size</th>
          <th class="text-center">Sign Time</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let transaction of transactions">
          <td class="text-center">{{transaction.feeFraction}}</td>
          <td class="text-center">{{transaction.feeWhole}}</td>
          <td class="text-center hash">{{transaction.transactionHash}}</td>
          <td class="text-center">{{transaction.transactionSize | number : '1.2-2'}} Kb</td>
          <td class="text-center">{{transaction.timeSigned | date: 'yyyy-MM-dd HH:mm'}}</td>
        </tr>
        </tbody>
      </table>


      <div *ngIf="loadingBlocks"
           class="row justify-content-center align-items-center spinner no-gutters">
        <mat-spinner></mat-spinner>
      </div>


      <ng-container *ngIf="seeMoreChecker">
        <div
          class="search-results"
          infiniteScroll
          [infiniteScrollDistance]="2"
          [infiniteScrollThrottle]="50"
          [infiniteScrollDisabled]="blockInfiniteScroll"
          (scrolled)="seeMore()"
        ></div>
      </ng-container>
    </div>


    <div class="no-tr" *ngIf="!blockData.transactions.length"><span>No transactions found</span></div>
  </div>
</ng-container>
