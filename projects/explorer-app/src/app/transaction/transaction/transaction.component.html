<ng-container *ngIf="transaction; else loading">
  <div class="container-fluid main-grid mb-5">
    <div class="mt-3 transaction-table">
      <div class="inner-table mb-5">
        <table *ngIf="transaction">
          <thead>
          <tr>
            <th> <h2 class="mb-0">Transaction</h2></th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td style="flex-direction: column">
              <span>Hash</span>
              <span class="transaction-hush">{{transaction.transactionHash}}</span>
            </td>
          </tr>
          <tr *ngIf="transaction.isConfirmed">
            <td style="flex-direction: column">
              <span>Block #</span>
              <a class="linked" href="#" (click)="redirect($event, 'b', transaction.block.number)">{{transaction.block.number}}</a>
            </td>
          </tr>
          <tr>
            <td class="mob-column">
              <div class="table-column">
                <span>From</span>
                <a class="linked" href="#" (click)="redirect($event, 'a', transaction.transfer.from.address)">{{transaction.transfer.from.address}}</a>
              </div>
              <div class="table-column">
                <span>To</span>
                <a class="linked" href="#" (click)="redirect($event, 'a', transaction.transfer.to.address)">{{transaction.transfer.to.address}}</a>
              </div>
            </td>
          </tr>
          <tr>
            <td class="mob-column">
              <div class="table-column">
                <span>Amount</span>
                <span>{{transaction.transfer.amount.balance | number: '0.0-8'}}</span>
              </div>
             <div class="table-column">
               <span>Fee</span>
               <span>{{transaction.feeAmount.balance | number: '0.0-8'}}</span>
             </div>
            </td>
          </tr>
          <tr *ngIf="transaction.isConfirmed">
            <td class="mob-column conf">
              <div class="table-column">
                <span>Timestamp</span>
                <span>{{transaction.timeSigned | date: 'yyyy-MM-dd HH:mm'}}</span>
              </div>
              <div class="table-column">
                <span>Confirmations</span>
                <span>{{transaction.block.confirmationsCount}}</span>
              </div>
            </td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</ng-container>

<ng-template #loading>
  <div class="row justify-content-center align-items-center spinner no-gutters">
    <mat-spinner></mat-spinner>
  </div>
</ng-template>
